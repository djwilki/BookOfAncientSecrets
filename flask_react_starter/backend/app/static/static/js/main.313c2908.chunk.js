(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,function(e,t,n){e.exports={outermost_form_container:"adventure_form_outermost_form_container__tpxbw",form_title_text:"adventure_form_form_title_text__3s3bb",form_button:"adventure_form_form_button__yTWSA",form_description_textarea:"adventure_form_form_description_textarea__3eWuJ",page_div:"adventure_form_page_div__2MRkU",hr:"adventure_form_hr__3GK1Z",checkbox_container:"adventure_form_checkbox_container__2B4be",link_list:"adventure_form_link_list__18rZ4",link_item_link:"adventure_form_link_item_link__2HJJi",link_button_delete:"adventure_form_link_button_delete__1_qy0",link_item:"adventure_form_link_item__ec-Uw"}},,function(e,t,n){e.exports={tile_title:"content_tile_tile_title__u_6Hb",tile_container:"content_tile_tile_container__21SwH",tile_button:"content_tile_tile_button__22axj",tile_link:"content_tile_tile_link__2SNcC",tile_nav_link:"content_tile_tile_nav_link__3pH44",tile_nav:"content_tile_tile_nav__1YWQk"}},,,,,,,,,,,function(e,t,n){e.exports={page_div:"adventure_view_page_div__1fN5K",tile_list:"adventure_view_tile_list__1fr-a",link_list:"adventure_view_link_list__KvfCj",tile_link:"adventure_view_tile_link__3wvKS"}},function(e,t,n){e.exports={tile_list:"create_adventure_tile_list__1Jkw_",adventures_label:"create_adventure_adventures_label__3Zovy",page_div:"create_adventure_page_div__37w4F"}},function(e,t,n){e.exports={logo_svg:"nav_bar_logo_svg__1rXyJ",logo_label:"nav_bar_logo_label__2PHKP",logo:"nav_bar_logo__Shpzn",log_button:"nav_bar_log_button__3yzjO",nav_bar:"nav_bar_nav_bar__xNROV",nav_container:"nav_bar_nav_container__27vbC"}},,,function(e,t,n){e.exports={choose_path_container:"create_or_play_choose_path_container__1Ojfz",choose_image:"create_or_play_choose_image__3O5AB",outermost_choose_container:"create_or_play_outermost_choose_container__1qVB3"}},,function(e,t,n){e.exports={footer_bar:"footer_footer_bar__2ytOf",footer_link_container:"footer_footer_link_container__HWa4G",footer_link:"footer_footer_link__-iMyN"}},,,function(e,t,n){e.exports={dice_tray:"dice_roller_dice_tray__30XY5",hidden:"dice_roller_hidden__3a8GC",tray_container:"dice_roller_tray_container__3mNAU",tray_button:"dice_roller_tray_button__13zdo"}},function(e,t,n){e.exports={dice_room:"main_content_dice_room__273AF",left_spacer:"main_content_left_spacer__g0Ue1",main_container:"main_content_main_container__2d8J5"}},,,,,function(e,t,n){e.exports={roll_li:"roll_button_roll_li__1J-JE",roll_button:"roll_button_roll_button__3Eugw",fas:"roll_button_fas__1GCpA","fa-dice-d20":"roll_button_fa-dice-d20__-l51l","fa-3x":"roll_button_fa-3x__2RjXJ"}},,,,,function(e,t,n){e.exports=n(51)},,,,,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return De}));var a=n(0),r=n.n(a),c=n(25),u=n.n(c),s=(n(43),n(1)),i=n.n(s),o=n(2),l=n(9),f=n(8);var p=Object(f.f)((function(e){return e.history,r.a.createElement(r.a.Fragment,null)})),m=n(7);var d=n(22),_=n.n(d);var v=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:_.a.outermost_choose_container},r.a.createElement("div",{className:_.a.choose_path_container},r.a.createElement("img",{alt:"",className:_.a.choose_image,src:"https://i.pinimg.com/originals/18/fc/90/18fc90e504fe07c87f25af84c44e144d.jpg"}),r.a.createElement(l.b,{className:"Navlink",to:"/create-adventure",activeclass:"active"},"Expand Your Adventures")),r.a.createElement("div",{className:_.a.choose_path_container},r.a.createElement("img",{alt:"",className:_.a.choose_image,src:"https://immarpalomera.files.wordpress.com/2010/12/dungeon-delve1.jpg"}),r.a.createElement(l.b,{className:"Navlink",to:"/adventure-play",activeclass:"active"},"Start an Adventure"))))},E=n(3),b=n(6),h=n.n(b),O=n(15),k=n(16),g=n(10),j=n.n(g),x="adventure/SET_USER_ADVENTURES",N=function(e){return{type:"adventure/DELETE_ADVENTURE",adventureId:e}},y=function(e,t,n,a){var r=j.a.get("XSRF-TOKEN");return function(){var c=Object(o.a)(i.a.mark((function c(u){var s,o;return i.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch("/api/adventures/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFTOKEN":r},body:JSON.stringify({title:e,description:t,published:n,ownerId:a,csrf_token:r})});case 2:return s=c.sent,c.next=5,s.json();case 5:return o=c.sent,s.data=o,s.ok&&u({type:"adventure/CREATE_ADVENTURE",adventure:s.data}),c.abrupt("return",s);case 9:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("api/users/".concat(e,"/adventures"));case 2:return a=t.sent,t.next=5,a.json();case 5:return a.data=t.sent,a.ok&&n((r=a.data,{type:x,adventures:r})),t.abrupt("return",a);case 8:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},T=function(e){var t=j.a.get("XSRF-TOKEN"),n="api/adventures/".concat(e);return function(){var a=Object(o.a)(i.a.mark((function a(r){var c;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFTOKEN":t}});case 2:return c=a.sent,a.next=5,c.json();case 5:c.data=a.sent,c.ok&&r(N(e));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},C=function(e,t,n,a){var r=j.a.get("XSRF-TOKEN"),c="/api/adventures/".concat(e);return function(){var u=Object(o.a)(i.a.mark((function u(s){var o,l;return i.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,fetch(c,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFTOKEN":r},body:JSON.stringify({selectedAdventureId:e,title:t,description:n,published:a,csrf_token:r})});case 2:return o=u.sent,u.next=5,o.json();case 5:return l=u.sent,o.data=l,o.ok&&s({type:"adventure/EDIT_ADVENTURE",adventure:o.data}),u.abrupt("return",o);case 9:case"end":return u.stop()}}),u)})));return function(e){return u.apply(this,arguments)}}()};var I=function(e){return{type:"session/SET_SELECTED_ADVENTURE_ID",adventureId:e}},S=function(e){return{type:"session/SET_SELECTED_PAGE_ID",pageId:e}},A={selectedAdventureId:null,selectedPageId:null};var D=Object(f.f)((function(e){e.tempkey;var t=e.title,n=e.contentId,a=(e.path,e.history),c=Object(E.b)(),u=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c(T(n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c(I(n));case 3:a.push("/adventure-view");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c(I(n));case 3:a.push("/adventure-edit");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:h.a.tile_container},r.a.createElement("div",{className:h.a.tile_title},r.a.createElement("h1",null,t),r.a.createElement("hr",null),r.a.createElement("div",{className:h.a.tile_nav},r.a.createElement("button",{className:h.a.tile_link,onClick:s},"View"),r.a.createElement("button",{className:h.a.tile_link,onClick:l},"Edit"),r.a.createElement("button",{className:h.a.tile_button,onClick:u},"Delete"))))}));var R=function(e){var t=e.type;return r.a.createElement("div",{className:h.a.tile_container},r.a.createElement("div",{className:h.a.tile_title},r.a.createElement("h1",null,"New"),r.a.createElement("hr",null),r.a.createElement("div",{className:h.a.tile_nav},r.a.createElement(l.b,{className:h.a.tile_nav_link,to:"/".concat(t,"-form")}," Create New "))))},P=function(e){return{type:"page/DELETE_PAGE",pageId:e}},L=function(e,t,n,a){var r=j.a.get("XSRF-TOKEN");return function(){var c=Object(o.a)(i.a.mark((function c(u){var s,o;return i.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch("/api/pages/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFTOKEN":r},body:JSON.stringify({title:e,content:t,adventureId:n,ownerId:a,csrf_token:r})});case 2:return s=c.sent,c.next=5,s.json();case 5:return o=c.sent,s.data=o,s.ok&&u({type:"page/CREATE_PAGE",page:s.data}),c.abrupt("return",s);case 9:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},F=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("api/users/".concat(e,"/pages"));case 2:return a=t.sent,t.next=5,a.json();case 5:return a.data=t.sent,a.ok&&n({type:"page/SET_PAGE",pages:a.data}),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},K=function(e){var t=j.a.get("XSRF-TOKEN"),n="api/pages/".concat(e);return function(){var a=Object(o.a)(i.a.mark((function a(r){var c;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFTOKEN":t}});case 2:return c=a.sent,a.next=5,c.json();case 5:c.data=a.sent,c.ok&&r(P(e));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},U=function(e,t,n){var a=j.a.get("XSRF-TOKEN"),r="/api/pages/".concat(e);return function(){var c=Object(o.a)(i.a.mark((function c(u){var s,o;return i.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch(r,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFTOKEN":a},body:JSON.stringify({selectedPageId:e,title:t,content:n,csrf_token:a})});case 2:return s=c.sent,c.next=5,s.json();case 5:return o=c.sent,s.data=o,s.ok&&u({type:"page/EDIT_PAGE",page:s.data}),c.abrupt("return",s);case 9:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()};var V=function(e){return{type:"link/DELETE_LINK",linkId:e}},X=function(e,t,n,a){var r=j.a.get("XSRF-TOKEN");return function(){var c=Object(o.a)(i.a.mark((function c(u){var s,o;return i.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch("/api/links/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFTOKEN":r},body:JSON.stringify({fromId:e,toId:t,text:n,ownerId:a,csrf_token:r})});case 2:return s=c.sent,c.next=5,s.json();case 5:return o=c.sent,s.data=o,s.ok&&u({type:"link/CREATE_LINK",link:s.data}),c.abrupt("return",s);case 9:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},G=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("api/users/".concat(e,"/links"));case 2:return a=t.sent,t.next=5,a.json();case 5:return a.data=t.sent,a.ok&&n({type:"link/SET_LINK",links:a.data}),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},J=function(e){var t=j.a.get("XSRF-TOKEN"),n="api/links/".concat(e);return function(){var a=Object(o.a)(i.a.mark((function a(r){var c;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFTOKEN":t}});case 2:return c=a.sent,a.next=5,c.json();case 5:c.data=a.sent,c.ok&&r(V(e));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()};var M=n(18),z=n.n(M);var B=function(){var e=Object(E.c)((function(e){return e.session.userId})),t=Object(E.c)((function(e){return e.entities.adventures})),n=Object(E.b)();Object(a.useEffect)((function(){(function(){var t=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(w(e));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),function(){var t=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(F(e));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){var t=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(G(e));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[n,e]);var c=Object.values(t).map((function(e,t){return r.a.createElement("li",{key:e.id},r.a.createElement(D,{title:e.title,contentId:e.id,path:"/adventure",deletePath:"/adventures"}))}));return r.a.createElement("div",{className:z.a.page_div},r.a.createElement("h1",{className:z.a.adventures_label},"Your Adventures"),r.a.createElement("hr",null),r.a.createElement("h3",null,"Available Adventures"),r.a.createElement("div",null,"Your published adventures are available to other users for play!"),r.a.createElement("ul",{className:z.a.tile_list},c,r.a.createElement(R,{type:"adventure"})))},Y=n(4),H=n.n(Y);var W=Object(f.f)((function(e){var t=e.history,n=Object(a.useState)(""),c=Object(m.a)(n,2),u=c[0],s=c[1],l=Object(a.useState)(""),f=Object(m.a)(l,2),p=f[0],d=f[1],_=Object(a.useState)(!1),v=Object(m.a)(_,2),b=v[0],h=v[1],O=Object(E.c)((function(e){return e.session.userId})),k=Object(E.b)(),g=function(){var e=Object(o.a)(i.a.mark((function e(n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=0,"on"===b&&(a=1),e.next=5,k(y(u,p,a,O));case 5:if(!e.sent.ok){e.next=9;break}return t.push("/create-adventure"),e.abrupt("return");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:H.a.page_div},r.a.createElement("div",{className:H.a.outermost_form_container},r.a.createElement("h1",null,"Create an Adventure"),r.a.createElement("hr",{className:H.a.hr}),r.a.createElement("h5",{className:H.a.field_title},"ADVENTURE TITLE"),r.a.createElement("input",{onChange:function(e){return s(e.target.value)},className:H.a.form_title_text,type:"text",placeholder:"Enter a name"}),r.a.createElement("h5",{className:H.a.field_title},"DESCRIPTION"),r.a.createElement("textarea",{onChange:function(e){return d(e.target.value)},className:H.a.form_description_textarea}),r.a.createElement("div",{className:H.a.checkbox_container},r.a.createElement("input",{type:"checkbox",onChange:function(e){return h(e.target.value)}}),r.a.createElement("span",null,"Publish")),r.a.createElement("button",{className:H.a.form_button,onClick:g},"Add Adventure"),r.a.createElement("button",{className:H.a.form_button,onClick:function(e){e.preventDefault(),t.replace("create-adventure")}},"Cancel")))})),Z=n(17),q=n.n(Z);var Q=Object(f.f)((function(e){e.tempkey;var t=e.title,n=e.contentId,a=(e.path,e.history),c=e.userId,u=Object(E.b)(),s=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,u(K(n));case 3:(function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(G(c));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,u(S(n));case 3:a.push("/page-view");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,u(S(n));case 3:a.push("/page-edit");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:h.a.tile_container},r.a.createElement("div",{className:h.a.tile_title},r.a.createElement("h1",null,t),r.a.createElement("hr",null),r.a.createElement("div",{className:h.a.tile_nav},r.a.createElement("button",{className:h.a.tile_link,onClick:l},"View"),r.a.createElement("button",{className:h.a.tile_link,onClick:f},"Edit"),r.a.createElement("button",{className:h.a.tile_button,onClick:s},"Delete"))))}));var $=function(e){var t=Object(E.c)((function(e){return e.ui.selectedAdventureId})),n=Object(E.c)((function(e){return e.entities.adventures[t]})),a=Object(E.c)((function(e){return e.session.userId})),c=Object(E.c)((function(e){return e.entities.pages})),u=Object.values(c).filter((function(e){return e.adventureId===t})),s=Object.values(u).map((function(e,t){return r.a.createElement("li",{key:e.id},r.a.createElement(Q,{title:e.title,userId:a,contentId:e.id,path:"/page",deletePath:"/pages"}))}));return r.a.createElement("div",{className:q.a.page_div},n?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:q.a.adventures_label},n.title),r.a.createElement("hr",null),r.a.createElement("div",null,n.description),r.a.createElement("hr",null),r.a.createElement("ul",{className:q.a.tile_list},s,r.a.createElement(R,{type:"page"}))):r.a.createElement(r.a.Fragment,null))};var ee=Object(f.f)((function(e){var t=e.history,n=Object(a.useState)(""),c=Object(m.a)(n,2),u=c[0],s=c[1],l=Object(a.useState)(""),f=Object(m.a)(l,2),p=f[0],d=f[1],_=Object(a.useState)(!1),v=Object(m.a)(_,2),b=v[0],h=v[1],O=Object(E.c)((function(e){return e.ui.selectedAdventureId})),k=Object(E.c)((function(e){return e.entities.adventures}))[O],g=Object(E.b)(),j=function(){var e=Object(o.a)(i.a.mark((function e(n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=0,"on"===b&&(a=1),e.next=5,g(C(O,u,p,a));case 5:if(!e.sent.ok){e.next=9;break}return t.push("/create-adventure"),e.abrupt("return");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:H.a.page_div},r.a.createElement("div",{className:H.a.outermost_form_container},r.a.createElement("h1",null,"Create an Adventure"),r.a.createElement("hr",null),r.a.createElement("h3",null,"Adventure Title"),r.a.createElement("input",{onChange:function(e){return s(e.target.value)},className:H.a.form_title_text,type:"text",placeholder:"Enter a name",defaultValue:k.title}),r.a.createElement("h3",null,"Description"),r.a.createElement("textarea",{onChange:function(e){return d(e.target.value)},className:H.a.form_description_textarea,defaultValue:k.description}),r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",onChange:function(e){return h(e.target.value)}}),r.a.createElement("span",null,"Publish")),r.a.createElement("button",{className:H.a.form_button,onClick:j},"Save Adventure"),r.a.createElement("button",{className:H.a.form_button,onClick:function(e){e.preventDefault(),t.replace("create-adventure")}},"Cancel")))}));var te=Object(f.f)((function(e){e.tempkey;var t=e.title,n=e.contentId,a=(e.path,e.history),c=Object(E.b)(),u=Object(E.c)((function(e){return e.entities.pages})),s=function(){var e=Object(o.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c(I(n));case 3:return r=Object.values(u).filter((function(e){return e.adventureId===n})).sort((function(e,t){return e.id-t.id}))[0].id,e.next=6,c(S(r));case 6:a.push("/page-view");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:h.a.tile_container},r.a.createElement("div",{className:h.a.tile_title},r.a.createElement("h1",null,t),r.a.createElement("hr",null),r.a.createElement("div",{className:h.a.tile_nav},r.a.createElement("button",{className:h.a.tile_link,onClick:s},"Play"))))}));var ne=function(e){var t=Object(E.c)((function(e){return e.session.userId})),n=Object(E.c)((function(e){return e.entities.adventures})),c=Object(E.b)();Object(a.useEffect)((function(){(function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(w(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(F(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(G(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[c,t]);var u=Object.values(n).map((function(e,t){return r.a.createElement("li",{key:e.id},r.a.createElement(te,{title:e.title,contentId:e.id,path:"/adventure",deletePath:"/adventures"}))}));return r.a.createElement("div",{className:z.a.page_div},r.a.createElement("h1",{className:z.a.adventures_label},"Your Adventures"),r.a.createElement("hr",null),r.a.createElement("h3",null,"Playable Adventures"),r.a.createElement("div",null,"Published adventures are available to you for play!"),r.a.createElement("ul",{className:z.a.tile_list},u))};var ae=Object(f.f)((function(e){var t=e.history,n=Object(a.useState)(""),c=Object(m.a)(n,2),u=c[0],s=c[1],l=Object(a.useState)(""),f=Object(m.a)(l,2),p=f[0],d=f[1],_=Object(E.c)((function(e){return e.session.userId})),v=Object(E.c)((function(e){return e.ui.selectedAdventureId})),b=Object(E.b)(),h=function(){var e=Object(o.a)(i.a.mark((function e(n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,b(L(u,p,v,_));case 3:if(!(a=e.sent).ok){e.next=7;break}return t.push("/adventure-view"),e.abrupt("return");case 7:return e.abrupt("return",a.errors);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:H.a.page_div},r.a.createElement("div",{className:H.a.outermost_form_container},r.a.createElement("h1",null,"Create a Page"),r.a.createElement("hr",{className:H.a.hr}),r.a.createElement("h3",null,"PAGE TITLE"),r.a.createElement("input",{onChange:function(e){return s(e.target.value)},className:H.a.form_title_text,type:"text",placeholder:"Enter a name"}),r.a.createElement("h3",null,"CONTENT"),r.a.createElement("textarea",{onChange:function(e){return d(e.target.value)},className:H.a.form_description_textarea}),r.a.createElement("button",{className:H.a.form_button,onClick:h},"Add Page"),r.a.createElement("button",{className:H.a.form_button,onClick:function(e){e.preventDefault(),t.replace("adventure-view")}},"Cancel")))}));var re=function(e){e.history;var t=Object(E.c)((function(e){return e.ui.selectedPageId})),n=Object(E.c)((function(e){return e.entities.pages[t]})),a=Object(E.c)((function(e){return Object.values(e.entities.links).filter((function(e){return e.fromId===t}))})),c=Object(E.b)(),u=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c(S(Number(t.target.value))),e.abrupt("return");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:q.a.page_div},n?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:q.a.adventures_label},n.title),r.a.createElement("hr",null),r.a.createElement("div",null,n.content),r.a.createElement("hr",null),r.a.createElement("ul",{className:q.a.link_list},a.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("button",{value:e.toId,className:q.a.tile_link,onClick:u},e.text))})))):r.a.createElement(r.a.Fragment,null))};var ce=Object(f.f)((function(e){var t=e.history,n=Object(a.useState)(""),c=Object(m.a)(n,2),u=c[0],s=c[1],l=Object(a.useState)(""),f=Object(m.a)(l,2),p=f[0],d=f[1],_=Object(a.useState)(""),v=Object(m.a)(_,2),b=v[0],h=v[1],O=Object(a.useState)(null),k=Object(m.a)(O,2),g=k[0],j=k[1],x=Object(E.c)((function(e){return e.session.userId})),N=Object(E.c)((function(e){return e.ui.selectedAdventureId})),y=Object(E.c)((function(e){return e.ui.selectedPageId})),w=Object(E.c)((function(e){return e.entities.links})),T=Object(E.c)((function(e){return e.entities.pages})),C=T[y],I=Object(E.b)(),S=function(){var e=Object(o.a)(i.a.mark((function e(n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,I(U(y,u,p));case 3:if(!(a=e.sent).ok){e.next=7;break}return t.push("/adventure-view"),e.abrupt("return");case 7:return e.abrupt("return",a.errors);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,I(X(Number(C.id),Number(g),b,x));case 3:if(!e.sent.ok){e.next=6;break}return e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,I(J(t.target.value));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:H.a.page_div},C?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:H.a.outermost_form_container},r.a.createElement("h1",null,"Create a Page"),r.a.createElement("hr",null),r.a.createElement("h3",null,"Page Title"),r.a.createElement("input",{onChange:function(e){return s(e.target.value)},className:H.a.form_title_text,type:"text",placeholder:"Enter a name",defaultValue:C.title}),r.a.createElement("h3",null,"Content"),r.a.createElement("textarea",{onChange:function(e){return d(e.target.value)},className:H.a.form_description_textarea,defaultValue:C.content}),r.a.createElement("h3",null,"Links"),r.a.createElement("ul",{className:H.a.link_list},Object.values(w).filter((function(e){return e.fromId===y})).map((function(e,t){return r.a.createElement("li",{key:e.id.toString(),className:H.a.link_item},r.a.createElement("span",{className:H.a.link_item_link},e.text),r.a.createElement("button",{className:H.a.link_button_delete,value:e.id,onClick:D}," Remove "))}))),r.a.createElement("select",{className:H.a.form_title_text,defaultValue:"DEFAULT",onChange:function(e){return j(e.target.value)}},r.a.createElement("option",{key:"0",disabled:!0,value:"DEFAULT"}," -- select a page -- "),Object.values(T).map((function(e){return e.adventureId!==N||e.id===y||Object.values(w).filter((function(e){return e.fromId===y})).map((function(e){return e.toId})).includes(e.id)?"":r.a.createElement("option",{key:e.id,value:Number(e.id)},e.title)}))),r.a.createElement("input",{type:"text",placeholder:"Enter Link Text",onChange:function(e){return h(e.target.value)},className:H.a.form_title_text}),r.a.createElement("button",{className:H.a.form_button,onClick:A},"Add Link"),r.a.createElement("button",{className:H.a.form_button,onClick:S},"Save Page"),r.a.createElement("button",{className:H.a.form_button,onClick:function(e){e.preventDefault(),t.replace("adventure-view")}},"Cancel"))):r.a.createElement(r.a.Fragment,null))})),ue=n(33),se=n.n(ue);var ie=function(e){var t=e.max,n=Object(a.useState)(""),c=Object(m.a)(n,2),u=c[0],s=c[1];return r.a.createElement("li",{key:t,className:se.a.roll_li},r.a.createElement("span",null,u),r.a.createElement("button",{className:se.a.roll_button,onClick:function(e){s(Math.ceil(Math.random()*t))},value:t},r.a.createElement("i",{className:"fas fa-dice-d20 fa-3x"}),"1d",t))},oe=n(27),le=n.n(oe);var fe=function(e){var t=Object(a.useState)(1),n=Object(m.a)(t,2),c=n[0],u=n[1];return r.a.createElement("div",{className:le.a.tray_container},r.a.createElement("div",null,r.a.createElement("button",{className:le.a.tray_button,onClick:function(){u(c?0:1)}},"DICE TRAY")),c?"":r.a.createElement("ul",{className:le.a.dice_tray},[20,12,10,8,6,4].map((function(e){return r.a.createElement(ie,{key:e,max:e})}))))},pe="session/SET_USER",me=function(e){return{type:pe,user:e}},de=function(e,t){var n=j.a.get("XSRF-TOKEN");return function(){var a=Object(o.a)(i.a.mark((function a(r){var c;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/session/login",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFTOKEN":n},body:JSON.stringify({email_or_username:e,password:t,csrf_token:n})});case 2:return c=a.sent,a.next=5,c.json();case 5:return c.data=a.sent,c.ok&&r(me(c.data.user)),a.abrupt("return",c);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},_e=function(){var e=j.a.get("XSRF-TOKEN");return function(){var t=Object(o.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/session/logout",{method:"DELETE",headers:{"X-CSRFTOKEN":e}});case 2:return a=t.sent,t.next=5,a.json();case 5:return a.data=t.sent,a.ok&&n({type:"session/LOGOUT_USER"}),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ve={userId:null,username:null};var Ee=n(19),be=n.n(Ee);var he=Object(f.f)((function(e){var t=e.history,n=Object(E.c)((function(e){return e.session.userId})),a=Object(E.b)(),c=function(){var e=Object(o.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,a(de("Owen","password"));case 3:if(!e.sent.ok){e.next=7;break}return t.replace("/choose"),e.abrupt("return");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(o.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,a(_e());case 3:t.replace("/");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:be.a.nav_bar},r.a.createElement("div",{className:be.a.nav_container},r.a.createElement("button",{className:be.a.logo,onClick:function(e){e.preventDefault(),t.push("/choose")}},r.a.createElement("svg",{className:be.a.logo_svg,width:"25",height:"25",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 122.88 101.37"},r.a.createElement("g",null,r.a.createElement("path",{d:"M12.64,77.27l0.31-54.92h-6.2v69.88c8.52-2.2,17.07-3.6,25.68-3.66c7.95-0.05,15.9,1.06,23.87,3.76 c-4.95-4.01-10.47-6.96-16.36-8.88c-7.42-2.42-15.44-3.22-23.66-2.52c-1.86,0.15-3.48-1.23-3.64-3.08 C12.62,77.65,12.62,77.46,12.64,77.27L12.64,77.27z M103.62,19.48c-0.02-0.16-0.04-0.33-0.04-0.51c0-0.17,0.01-0.34,0.04-0.51V7.34 c-7.8-0.74-15.84,0.12-22.86,2.78c-6.56,2.49-12.22,6.58-15.9,12.44V85.9c5.72-3.82,11.57-6.96,17.58-9.1 c6.85-2.44,13.89-3.6,21.18-3.02V19.48L103.62,19.48z M110.37,15.6h9.14c1.86,0,3.37,1.51,3.37,3.37v77.66 c0,1.86-1.51,3.37-3.37,3.37c-0.38,0-0.75-0.06-1.09-0.18c-9.4-2.69-18.74-4.48-27.99-4.54c-9.02-0.06-18.03,1.53-27.08,5.52 c-0.56,0.37-1.23,0.57-1.92,0.56c-0.68,0.01-1.35-0.19-1.92-0.56c-9.04-4-18.06-5.58-27.08-5.52c-9.25,0.06-18.58,1.85-27.99,4.54 c-0.34,0.12-0.71,0.18-1.09,0.18C1.51,100.01,0,98.5,0,96.64V18.97c0-1.86,1.51-3.37,3.37-3.37h9.61l0.06-11.26 c0.01-1.62,1.15-2.96,2.68-3.28l0,0c8.87-1.85,19.65-1.39,29.1,2.23c6.53,2.5,12.46,6.49,16.79,12.25 c4.37-5.37,10.21-9.23,16.78-11.72c8.98-3.41,19.34-4.23,29.09-2.8c1.68,0.24,2.88,1.69,2.88,3.33h0V15.6L110.37,15.6z M68.13,91.82c7.45-2.34,14.89-3.3,22.33-3.26c8.61,0.05,17.16,1.46,25.68,3.66V22.35h-5.77v55.22c0,1.86-1.51,3.37-3.37,3.37 c-0.27,0-0.53-0.03-0.78-0.09c-7.38-1.16-14.53-0.2-21.51,2.29C79.09,85.15,73.57,88.15,68.13,91.82L68.13,91.82z M58.12,85.25 V22.46c-3.53-6.23-9.24-10.4-15.69-12.87c-7.31-2.8-15.52-3.43-22.68-2.41l-0.38,66.81c7.81-0.28,15.45,0.71,22.64,3.06 C47.73,78.91,53.15,81.64,58.12,85.25L58.12,85.25z"}))),r.a.createElement("span",{className:be.a.logo_label},"Book of Ancient Secrets")),n?r.a.createElement("button",{className:be.a.log_button,type:"button",onClick:u},"Logout Demo User"):r.a.createElement("button",{className:be.a.log_button,type:"button",onClick:c},"Log in as Demo User"))))})),Oe=(n(50),n(28)),ke=n.n(Oe),ge=n(24),je=n.n(ge);var xe=function(e){return r.a.createElement("div",{className:je.a.footer_bar},r.a.createElement("div",{className:je.a.footer_link_container},r.a.createElement("a",{href:"https://github.com/djwilki/BookOfAncientSecrets",className:je.a.footer_link},"Github"),r.a.createElement("a",{href:"https://www.linkedin.com/in/daniel-wilkins-88348160/",className:je.a.footer_link},"About Me")))};var Ne=function(e){var t=Object(E.c)((function(e){return e.session.userId})),n=Object(E.b)();return Object(a.useEffect)((function(){t&&(function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(w(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(F(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(G(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()())}),[n,t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:ke.a.main_container},r.a.createElement(he,null),r.a.createElement("div",{className:ke.a.dice_room},r.a.createElement("div",{className:ke.a.left_spacer}),t?r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/choose"},r.a.createElement(v,null)),r.a.createElement(f.a,{path:"/create-adventure"},r.a.createElement(B,null)),r.a.createElement(f.a,{path:"/adventure-form"},r.a.createElement(W,null)),r.a.createElement(f.a,{path:"/adventure-view"},r.a.createElement($,null)),r.a.createElement(f.a,{path:"/adventure-edit"},r.a.createElement(ee,null)),r.a.createElement(f.a,{path:"/adventure-play"},r.a.createElement(ne,null)),r.a.createElement(f.a,{path:"/page-form"},r.a.createElement(ae,null)),r.a.createElement(f.a,{path:"/page-view"},r.a.createElement(re,null)),r.a.createElement(f.a,{path:"/page-edit"},r.a.createElement(ce,null)),r.a.createElement(f.a,{path:"/"},r.a.createElement(p,null))):r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/"},r.a.createElement(p,null))),r.a.createElement(fe,null))),r.a.createElement(xe,null))};var ye,we=function(){Object(a.useEffect)((function(){(function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/session/csrf");case 2:if(!e.sent.ok){e.next=5;break}return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var e=Object(E.b)(),t=Object(E.c)((function(e){return e.session.userId}));Object(a.useEffect)((function(){(function(){var t=Object(o.a)(i.a.mark((function t(){var n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem("selectedAdventure");case 2:return n=t.sent,t.next=5,e(I(Number(n)));case 5:return t.next=7,localStorage.getItem("selectedPage");case 7:return a=t.sent,t.next=10,e(S(Number(a)));case 10:return t.next=12,e(function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/session/load");case 2:return n=e.sent,e.next=5,n.json();case 5:return n.data=e.sent,n.ok&&t(me(n.data.user)),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(a.useEffect)((function(){t&&(function(){var n=Object(o.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(w(t));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()(),function(){var n=Object(o.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(F(t));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()(),function(){var n=Object(o.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(G(t));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()())}),[e,t]);var n=document.createElement("script");return n.async=!0,n.src="https://kit.fontawesome.com/f2d99464c5.js",n.crossOrigin="anonymous",document.head.appendChild(n),r.a.createElement(l.a,null,r.a.createElement(Ne,null))},Te=n(20),Ce=n(37);var Ie=Object(Te.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"signup/CREATE_USER":return t.user;case"session/LOGOUT_USER":return localStorage.removeItem("selectedAdventure"),localStorage.removeItem("selectedPage"),{};case"users/SET_USER":return Object(O.a)({},t.user.id,t.user);default:return e}},adventures:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"adventure/CREATE_ADVENTURE":return Object(k.a)(Object(k.a)({},e),{},Object(O.a)({},t.adventure.id,t.adventure));case x:return t.adventures;case"adventure/DELETE_ADVENTURE":return delete n[t.adventureId],n;case"adventure/EDIT_ADVENTURE":return n[t.adventure.id]=t.adventure,n;default:return e}},pages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"page/CREATE_PAGE":return Object(k.a)(Object(k.a)({},e),{},Object(O.a)({},t.page.id,t.page));case"page/SET_PAGE":return t.pages;case"page/DELETE_PAGE":return delete n[t.pageId],n;case"page/EDIT_PAGE":return n[t.page.id]=t.page,n;default:return e}},links:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"link/CREATE_LINK":return Object(k.a)(Object(k.a)({},e),{},Object(O.a)({},t.link.id,t.link));case"link/SET_LINK":return t.links;case"link/DELETE_LINK":return delete n[t.linkId],n;case"link/EDIT_LINK":return n[t.link.id]=t.link,n;default:return e}}}),Se=Object(Te.c)({session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case pe:return n.userId=t.user.userId,n.username=t.user.username,n;case"session/LOGOUT_USER":return{};default:return e}},entities:Ie,ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"session/SET_SELECTED_ADVENTURE_ID":return localStorage.setItem("selectedAdventure",t.adventureId),n.selectedAdventureId=t.adventureId,n;case"session/SET_SELECTED_PAGE_ID":return localStorage.setItem("selectedPage",t.pageId),n.selectedPageId=t.pageId,n;default:return e}}});ye=Object(Te.a)(Ce.a);var Ae,De=Object(Te.d)(Se,Ae,ye);u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E.a,{store:De},r.a.createElement(we,null))),document.getElementById("root"))}],[[38,1,2]]]);
//# sourceMappingURL=main.313c2908.chunk.js.map