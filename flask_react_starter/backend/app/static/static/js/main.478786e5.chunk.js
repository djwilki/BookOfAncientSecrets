(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{17:function(e,t,n){e.exports={tile_list:"create_adventure_tile_list__1Jkw_",adventures_label:"create_adventure_adventures_label__3Zovy",page_div:"create_adventure_page_div__37w4F"}},18:function(e,t,n){e.exports={logo_svg:"nav_bar_logo_svg__1rXyJ",logo_label:"nav_bar_logo_label__2PHKP",logo:"nav_bar_logo__Shpzn",log_button:"nav_bar_log_button__3yzjO",nav_bar:"nav_bar_nav_bar__xNROV",nav_container:"nav_bar_nav_container__27vbC"}},20:function(e,t,n){e.exports={page_div:"adventure_view_page_div__1fN5K",tile_list:"adventure_view_tile_list__1fr-a"}},22:function(e,t,n){e.exports={choose_path_container:"create_or_play_choose_path_container__1Ojfz",choose_image:"create_or_play_choose_image__3O5AB",outermost_choose_container:"create_or_play_outermost_choose_container__1qVB3"}},26:function(e,t,n){e.exports={dice_tray:"dice_roller_dice_tray__30XY5",hidden:"dice_roller_hidden__3a8GC",tray_container:"dice_roller_tray_container__3mNAU",tray_button:"dice_roller_tray_button__13zdo"}},31:function(e,t,n){e.exports={roll_li:"roll_button_roll_li__1J-JE",roll_button:"roll_button_roll_button__3Eugw"}},36:function(e,t,n){e.exports=n(49)},4:function(e,t,n){e.exports={outermost_form_container:"adventure_form_outermost_form_container__tpxbw",form_title_text:"adventure_form_form_title_text__3s3bb",form_button:"adventure_form_form_button__yTWSA",form_description_textarea:"adventure_form_form_description_textarea__3eWuJ",page_div:"adventure_form_page_div__2MRkU",hr:"adventure_form_hr__3GK1Z",checkbox_container:"adventure_form_checkbox_container__2B4be"}},41:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return Te}));var a=n(0),r=n.n(a),c=n(24),u=n.n(c),s=(n(41),n(1)),l=n.n(s),i=n(2),o=n(9),p=n(8),f=n(3),m=n(10),d=n.n(m),v="session/SET_USER",_=function(e){return{type:"session/SET_SELECTED_ADVENTURE_ID",adventureId:e}},E=function(e){return{type:"session/SET_SELECTED_PAGE_ID",pageId:e}},b=function(e,t){var n=d.a.get("XSRF-TOKEN");return function(){var a=Object(i.a)(l.a.mark((function a(r){var c;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/session/login",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFTOKEN":n},body:JSON.stringify({email_or_username:e,password:t,csrf_token:n})});case 2:return c=a.sent,a.next=5,c.json();case 5:return c.data=a.sent,console.log(c.data),c.ok&&r((u=c.data.user,{type:v,user:u})),a.abrupt("return",c);case 9:case"end":return a.stop()}var u}),a)})));return function(e){return a.apply(this,arguments)}}()};window.login=b;var h=function(){var e=d.a.get("XSRF-TOKEN");return function(){var t=Object(i.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/session/logout",{method:"DELETE",headers:{"X-CSRFTOKEN":e}});case 2:return a=t.sent,t.next=5,a.json();case 5:return a.data=t.sent,a.ok&&n({type:"session/LOGOUT_USER"}),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O={userId:null,selectedAdventureId:null,selectedPageId:null};var g=Object(p.f)((function(e){return e.history,Object(f.b)(),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"PLEASE LOG IN"))})),j=n(7);var k=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,"Username:")," ",e.user.username,r.a.createElement("br",null),r.a.createElement("strong",null,"Email:")," ",e.user.email,r.a.createElement("br",null),r.a.createElement("hr",null))};var x=function(e){var t=Object(a.useState)([]),n=Object(j.a)(t,2),c=n[0],u=n[1];Object(a.useEffect)((function(){function e(){return(e=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,u(n.users);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=c.map((function(e){return r.a.createElement(k,{key:e.id,user:e})}));return console.log("____Rendering User List____"),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"User List: "),s)},y=n(22),N=n.n(y);var w=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:N.a.outermost_choose_container},r.a.createElement("div",{className:N.a.choose_path_container},r.a.createElement("img",{alt:"",className:N.a.choose_image,src:"https://i.pinimg.com/originals/18/fc/90/18fc90e504fe07c87f25af84c44e144d.jpg"}),r.a.createElement(o.b,{className:"Navlink",to:"/create-adventure",activeclass:"active"},"Expand Your Adventures"),r.a.createElement(o.b,{className:"Navlink",to:"/create-character",activeclass:"active"},"Create Your Characters")),r.a.createElement("div",{className:N.a.choose_path_container},r.a.createElement("img",{alt:"",className:N.a.choose_image,src:"https://immarpalomera.files.wordpress.com/2010/12/dungeon-delve1.jpg"}),r.a.createElement(o.b,{className:"Navlink",to:"/characters",activeclass:"active"},"Select Your Character"),r.a.createElement(o.b,{className:"Navlink",to:"/adventure-play",activeclass:"active"},"Start an Adventure"))))},T=n(6),C=n.n(T),S=n(15),I=n(16),A="adventure/SET_USER_ADVENTURES",D=function(e){return{type:"adventure/DELETE_ADVENTURE",adventureId:e}},R=function(e,t,n,a){var r=d.a.get("XSRF-TOKEN");return function(){var c=Object(i.a)(l.a.mark((function c(u){var s,i;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch("/api/adventures/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFTOKEN":r},body:JSON.stringify({title:e,description:t,published:n,ownerId:a,csrf_token:r})});case 2:return s=c.sent,c.next=5,s.json();case 5:return i=c.sent,s.data=i,s.ok&&u({type:"adventure/CREATE_ADVENTURE",adventure:s.data}),c.abrupt("return",s);case 9:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},L=function(e){return function(){var t=Object(i.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("api/users/".concat(e,"/adventures"));case 2:return a=t.sent,t.next=5,a.json();case 5:return a.data=t.sent,a.ok&&n((r=a.data,{type:A,adventures:r})),t.abrupt("return",a);case 8:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(e){var t=d.a.get("XSRF-TOKEN"),n="api/adventures/".concat(e);return function(){var a=Object(i.a)(l.a.mark((function a(r){var c;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFTOKEN":t}});case 2:return c=a.sent,a.next=5,c.json();case 5:c.data=a.sent,c.ok&&r(D(e));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},U=function(e,t,n,a){var r=d.a.get("XSRF-TOKEN"),c="/api/adventures/".concat(e);return function(){var u=Object(i.a)(l.a.mark((function u(s){var i,o;return l.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,fetch(c,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFTOKEN":r},body:JSON.stringify({selectedAdventureId:e,title:t,description:n,published:a,csrf_token:r})});case 2:return i=u.sent,u.next=5,i.json();case 5:return o=u.sent,i.data=o,i.ok&&s({type:"adventure/EDIT_ADVENTURE",adventure:i.data}),u.abrupt("return",i);case 9:case"end":return u.stop()}}),u)})));return function(e){return u.apply(this,arguments)}}()};var K=Object(p.f)((function(e){e.tempkey;var t=e.title,n=e.contentId,a=(e.path,e.history),c=Object(f.b)(),u=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c(P(n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c(_(n));case 3:a.push("/adventure-view");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c(_(n));case 3:a.push("/adventure-edit");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:C.a.tile_container},r.a.createElement("div",{className:C.a.tile_title},r.a.createElement("h1",null,t),r.a.createElement("hr",null),r.a.createElement("div",{className:C.a.tile_nav},r.a.createElement("button",{className:C.a.tile_link,onClick:s},"View"),r.a.createElement("button",{className:C.a.tile_link,onClick:o},"Edit"),r.a.createElement("button",{className:C.a.tile_button,onClick:u},"Delete"))))}));var F=function(e){var t=e.type;return r.a.createElement("div",{className:C.a.tile_container},r.a.createElement("div",{className:C.a.tile_title},r.a.createElement("h1",null,"New"),r.a.createElement("hr",null),r.a.createElement("div",{className:C.a.tile_nav},r.a.createElement(o.b,{className:C.a.tile_nav_link,to:"/".concat(t,"-form")}," Create New "))))},V=function(e){return{type:"page/DELETE_PAGE",pageId:e}},X=function(e,t,n,a){var r=d.a.get("XSRF-TOKEN");return function(){var c=Object(i.a)(l.a.mark((function c(u){var s,i;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch("/api/pages/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFTOKEN":r},body:JSON.stringify({title:e,content:t,adventureId:n,ownerId:a,csrf_token:r})});case 2:return s=c.sent,c.next=5,s.json();case 5:return i=c.sent,s.data=i,s.ok&&u({type:"page/CREATE_PAGE",page:s.data}),c.abrupt("return",s);case 9:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},G=function(e){return function(){var t=Object(i.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("api/users/".concat(e,"/pages"));case 2:return a=t.sent,t.next=5,a.json();case 5:return a.data=t.sent,a.ok&&n({type:"page/SET_PAGE",pages:a.data}),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},J=function(e){var t=d.a.get("XSRF-TOKEN"),n="api/pages/".concat(e);return function(){var a=Object(i.a)(l.a.mark((function a(r){var c;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFTOKEN":t}});case 2:return c=a.sent,a.next=5,c.json();case 5:c.data=a.sent,c.ok&&r(V(e));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},z=function(e,t,n){var a=d.a.get("XSRF-TOKEN"),r="/api/pages/".concat(e);return function(){var c=Object(i.a)(l.a.mark((function c(u){var s,i;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch(r,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFTOKEN":a},body:JSON.stringify({selectedPageId:e,title:t,content:n,csrf_token:a})});case 2:return s=c.sent,c.next=5,s.json();case 5:return i=c.sent,s.data=i,s.ok&&u({type:"page/EDIT_PAGE",page:s.data}),c.abrupt("return",s);case 9:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()};var M=function(e){return{type:"link/DELETE_LINK",linkId:e}},Y=function(e,t,n,a){var r=d.a.get("XSRF-TOKEN");return function(){var c=Object(i.a)(l.a.mark((function c(u){var s,i;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch("/api/links/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFTOKEN":r},body:JSON.stringify({fromId:e,toId:t,text:n,ownerId:a,csrf_token:r})});case 2:return s=c.sent,c.next=5,s.json();case 5:return i=c.sent,s.data=i,s.ok&&u({type:"link/CREATE_LINK",link:s.data}),c.abrupt("return",s);case 9:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(i.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("api/users/".concat(e,"/links"));case 2:return a=t.sent,t.next=5,a.json();case 5:return a.data=t.sent,a.ok&&n({type:"link/SET_LINK",links:a.data}),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},H=function(e){var t=d.a.get("XSRF-TOKEN"),n="api/links/".concat(e);return function(){var a=Object(i.a)(l.a.mark((function a(r){var c;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFTOKEN":t}});case 2:return c=a.sent,a.next=5,c.json();case 5:c.data=a.sent,c.ok&&r(M(e));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()};var W=n(17),Z=n.n(W);var q=function(){var e=Object(f.c)((function(e){return e.session.userId})),t=Object(f.c)((function(e){return e.entities.adventures})),n=Object(f.b)();Object(a.useEffect)((function(){(function(){var t=Object(i.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(L(e));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),function(){var t=Object(i.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(G(e));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){var t=Object(i.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(B(e));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[n,e]);var c=Object.values(t).map((function(e,t){return r.a.createElement("li",{key:e.id},r.a.createElement(K,{title:e.title,contentId:e.id,path:"/adventure",deletePath:"/adventures"}))}));return r.a.createElement("div",{className:Z.a.page_div},r.a.createElement("h1",{className:Z.a.adventures_label},"Your Adventures"),r.a.createElement("hr",null),r.a.createElement("h3",null,"Available Adventures"),r.a.createElement("div",null,"Your published adventures are available to other users for play!"),r.a.createElement("ul",{className:Z.a.tile_list},c,r.a.createElement(F,{type:"adventure"})))},Q=n(4),$=n.n(Q);var ee=Object(p.f)((function(e){var t=e.history,n=Object(a.useState)(""),c=Object(j.a)(n,2),u=c[0],s=c[1],o=Object(a.useState)(""),p=Object(j.a)(o,2),m=p[0],d=p[1],v=Object(a.useState)(!1),_=Object(j.a)(v,2),E=_[0],b=_[1],h=Object(f.c)((function(e){return e.session.userId})),O=Object(f.b)(),g=function(){var e=Object(i.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=0,"on"===E&&(a=1),e.next=5,O(R(u,m,a,h));case 5:if(!e.sent.ok){e.next=9;break}return t.push("/create-adventure"),e.abrupt("return");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:$.a.page_div},r.a.createElement("div",{className:$.a.outermost_form_container},r.a.createElement("h1",null,"Create an Adventure"),r.a.createElement("hr",{className:$.a.hr}),r.a.createElement("h5",{className:$.a.field_title},"ADVENTURE TITLE"),r.a.createElement("input",{onChange:function(e){return s(e.target.value)},className:$.a.form_title_text,type:"text",placeholder:"Enter a name"}),r.a.createElement("h5",{className:$.a.field_title},"DESCRIPTION"),r.a.createElement("textarea",{onChange:function(e){return d(e.target.value)},className:$.a.form_description_textarea}),r.a.createElement("div",{className:$.a.checkbox_container},r.a.createElement("input",{type:"checkbox",onChange:function(e){return b(e.target.value)}}),r.a.createElement("span",null,"Publish")),r.a.createElement("button",{className:$.a.form_button,onClick:g},"Add Adventure")))})),te=n(20),ne=n.n(te);var ae=Object(p.f)((function(e){e.tempkey;var t=e.title,n=e.contentId,a=(e.path,e.history),c=Object(f.b)(),u=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c(J(n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c(E(n));case 3:a.push("/page-view");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c(E(n));case 3:a.push("/page-edit");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:C.a.tile_container},r.a.createElement("div",{className:C.a.tile_title},r.a.createElement("h1",null,t),r.a.createElement("hr",null),r.a.createElement("div",{className:C.a.tile_nav},r.a.createElement("button",{className:C.a.tile_link,onClick:s},"View"),r.a.createElement("button",{className:C.a.tile_link,onClick:o},"Edit"),r.a.createElement("button",{className:C.a.tile_button,onClick:u},"Delete"))))}));var re=function(e){var t=Object(f.c)((function(e){return e.session.selectedAdventureId})),n=Object(f.c)((function(e){return e.entities.adventures[t]})),a=Object(f.c)((function(e){return e.entities.pages})),c=Object.values(a).filter((function(e){return e.adventureId===t})),u=Object.values(c).map((function(e,t){return r.a.createElement("li",{key:e.id},r.a.createElement(ae,{title:e.title,contentId:e.id,path:"/page",deletePath:"/pages"}))}));return r.a.createElement("div",{className:ne.a.page_div},r.a.createElement("h1",{className:ne.a.adventures_label},n.title),r.a.createElement("hr",null),r.a.createElement("div",null,n.description),r.a.createElement("hr",null),r.a.createElement("ul",{className:ne.a.tile_list},u,r.a.createElement(F,{type:"page"})))};var ce=Object(p.f)((function(e){var t=e.history,n=Object(a.useState)(""),c=Object(j.a)(n,2),u=c[0],s=c[1],o=Object(a.useState)(""),p=Object(j.a)(o,2),m=p[0],d=p[1],v=Object(a.useState)(!1),_=Object(j.a)(v,2),E=_[0],b=_[1],h=Object(f.c)((function(e){return e.session.selectedAdventureId})),O=Object(f.c)((function(e){return e.entities.adventures}))[h],g=Object(f.b)(),k=function(){var e=Object(i.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=0,"on"===E&&(a=1),e.next=5,g(U(h,u,m,a));case 5:if(!e.sent.ok){e.next=9;break}return t.push("/create-adventure"),e.abrupt("return");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:$.a.page_div},r.a.createElement("div",{className:$.a.outermost_form_container},r.a.createElement("h1",null,"Create an Adventure"),r.a.createElement("hr",null),r.a.createElement("h3",null,"Adventure Title"),r.a.createElement("input",{onChange:function(e){return s(e.target.value)},className:$.a.form_title_text,type:"text",placeholder:"Enter a name",defaultValue:O.title}),r.a.createElement("h3",null,"Description"),r.a.createElement("textarea",{onChange:function(e){return d(e.target.value)},className:$.a.form_description_textarea,defaultValue:O.description}),r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",onChange:function(e){return b(e.target.value)}}),r.a.createElement("span",null,"Publish")),r.a.createElement("button",{className:$.a.form_button,onClick:k},"Add Adventure")))}));var ue=Object(p.f)((function(e){e.tempkey;var t=e.title,n=e.contentId,a=(e.path,e.history),c=Object(f.b)(),u=Object(f.c)((function(e){return e.entities.pages})),s=function(){var e=Object(i.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c(_(n));case 3:return r=Object.values(u).filter((function(e){return e.adventureId===n})).sort((function(e,t){return e.id-t.id}))[0].id,e.next=6,c(E(r));case 6:a.push("/page-view");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:C.a.tile_container},r.a.createElement("div",{className:C.a.tile_title},r.a.createElement("h1",null,t),r.a.createElement("hr",null),r.a.createElement("div",{className:C.a.tile_nav},r.a.createElement("button",{className:C.a.tile_link,onClick:s},"Play"))))}));var se=function(e){var t=Object(f.c)((function(e){return e.session.userId})),n=Object(f.c)((function(e){return e.entities.adventures})),c=Object(f.b)();Object(a.useEffect)((function(){(function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(L(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(G(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(B(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[c,t]);var u=Object.values(n).map((function(e,t){return r.a.createElement("li",{key:e.id},r.a.createElement(ue,{title:e.title,contentId:e.id,path:"/adventure",deletePath:"/adventures"}))}));return r.a.createElement("div",{className:Z.a.page_div},r.a.createElement("h1",{className:Z.a.adventures_label},"Your Adventures"),r.a.createElement("hr",null),r.a.createElement("h3",null,"Playable Adventures"),r.a.createElement("div",null,"Published adventures are available to you for play!"),r.a.createElement("ul",{className:Z.a.tile_list},u))};var le=Object(p.f)((function(e){var t=e.history,n=Object(a.useState)(""),c=Object(j.a)(n,2),u=c[0],s=c[1],o=Object(a.useState)(""),p=Object(j.a)(o,2),m=p[0],d=p[1],v=Object(f.c)((function(e){return e.session.userId})),_=Object(f.c)((function(e){return e.session.selectedAdventureId})),E=Object(f.b)(),b=function(){var e=Object(i.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,E(X(u,m,_,v));case 3:if(!(a=e.sent).ok){e.next=7;break}return t.push("/adventure-view"),e.abrupt("return");case 7:return e.abrupt("return",a.errors);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:$.a.page_div},r.a.createElement("div",{className:$.a.outermost_form_container},r.a.createElement("h1",null,"Create a Page"),r.a.createElement("hr",{className:$.a.hr}),r.a.createElement("h3",null,"PAGE TITLE"),r.a.createElement("input",{onChange:function(e){return s(e.target.value)},className:$.a.form_title_text,type:"text",placeholder:"Enter a name"}),r.a.createElement("h3",null,"CONTENT"),r.a.createElement("textarea",{onChange:function(e){return d(e.target.value)},className:$.a.form_description_textarea}),r.a.createElement("button",{className:$.a.form_button,onClick:b},"Add Page")))}));var ie=function(e){e.history;var t=Object(f.c)((function(e){return e.session.selectedPageId})),n=Object(f.c)((function(e){return e.entities.pages[t]})),a=Object(f.c)((function(e){return Object.values(e.entities.links).filter((function(e){return e.fromId===t}))})),c=Object(f.b)(),u=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c(E(t.target.value)),e.abrupt("return");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:ne.a.page_div},r.a.createElement("h1",{className:ne.a.adventures_label},n.title),r.a.createElement("hr",null),r.a.createElement("div",null,n.content),r.a.createElement("hr",null),r.a.createElement("ul",null,a.map((function(e){return r.a.createElement("li",null,r.a.createElement("button",{value:e.toId,onClick:u},e.text))}))))};var oe=Object(p.f)((function(e){var t=e.history,n=Object(a.useState)(""),c=Object(j.a)(n,2),u=c[0],s=c[1],o=Object(a.useState)(""),p=Object(j.a)(o,2),m=p[0],d=p[1],v=Object(a.useState)(!1),_=Object(j.a)(v,2),E=(_[0],_[1]),b=Object(a.useState)(""),h=Object(j.a)(b,2),O=h[0],g=h[1],k=Object(a.useState)(null),x=Object(j.a)(k,2),y=x[0],N=x[1],w=Object(f.c)((function(e){return e.session.userId})),T=Object(f.c)((function(e){return e.session.selectedAdventureId})),C=Object(f.c)((function(e){return e.session.selectedPageId})),S=Object(f.c)((function(e){return e.entities.links})),I=Object(f.c)((function(e){return e.entities.pages})),A=I[C],D=Object(f.b)(),R=function(){var e=Object(i.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,D(z(C,u,m));case 3:if(!(a=e.sent).ok){e.next=7;break}return t.push("/adventure-view"),e.abrupt("return");case 7:return e.abrupt("return",a.errors);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(A.id,y,O,w),e.next=4,D(Y(Number(A.id),Number(y),O,w));case 4:if(!e.sent.ok){e.next=7;break}return e.abrupt("return");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,D(H(t.target.value));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:$.a.page_div},r.a.createElement("div",{className:$.a.outermost_form_container},r.a.createElement("h1",null,"Create a Page"),r.a.createElement("hr",null),r.a.createElement("h3",null,"Page Title"),r.a.createElement("input",{onChange:function(e){return s(e.target.value)},className:$.a.form_title_text,type:"text",placeholder:"Enter a name",defaultValue:A.title}),r.a.createElement("h3",null,"Content"),r.a.createElement("textarea",{onChange:function(e){return d(e.target.value)},className:$.a.form_description_textarea,defaultValue:A.content}),r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",onChange:function(e){return E(e.target.value)}}),r.a.createElement("span",null,"Publish")),r.a.createElement("h3",null,"Links"),r.a.createElement("ul",null,Object.values(S).map((function(e){if(e.fromId===C)return r.a.createElement("li",{key:e.id},e.text,r.a.createElement("button",{value:e.id,onClick:P},"Remove"))}))),r.a.createElement("select",{className:$.a.form_title_text,defaultValue:"DEFAULT",onChange:function(e){return N(e.target.value)}},r.a.createElement("option",{disabled:!0,value:"DEFAULT"}," -- select a page -- "),Object.values(I).map((function(e){if(e.adventureId===T&&e.id!==C&&!Object.values(S).map((function(e){if(e.fromId===C)return e.toId})).includes(e.id))return r.a.createElement("option",{key:e.id,value:Number(e.id)},e.title)}))),r.a.createElement("input",{type:"text",placeholder:"Enter Link Text",onChange:function(e){return g(e.target.value)},className:$.a.form_title_text}),r.a.createElement("button",{className:$.a.form_button,onClick:L},"Add Link"),r.a.createElement("button",{className:$.a.form_button,onClick:R},"Save Page")))})),pe=n(31),fe=n.n(pe);var me=function(e){var t=e.max,n=Object(a.useState)(""),c=Object(j.a)(n,2),u=c[0],s=c[1];return r.a.createElement("li",{key:t,className:fe.a.roll_li},r.a.createElement("span",null,u),r.a.createElement("button",{className:fe.a.roll_button,onClick:function(e){s(Math.ceil(Math.random()*t))},value:t},r.a.createElement("i",{className:"fas fa-dice-d20 fa-3x"}),"1d",t))},de=n(26),ve=n.n(de);var _e=function(e){var t=Object(a.useState)(1),n=Object(j.a)(t,2),c=n[0],u=n[1];return r.a.createElement("div",{className:ve.a.tray_container},r.a.createElement("button",{className:ve.a.tray_button,onClick:function(){u(c?0:1)}},"<"),c?"":r.a.createElement("ul",{className:ve.a.dice_tray},[20,12,10,8,6,4,3,2].map((function(e){return r.a.createElement(me,{key:e,max:e})}))))},Ee=n(18),be=n.n(Ee);var he=Object(p.f)((function(e){var t=e.history,n=Object(f.c)((function(e){return e.session.userId})),a=Object(f.b)(),c=function(){var e=Object(i.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,a(b("Owen","password"));case 3:if(!e.sent.ok){e.next=7;break}return t.replace("/choose"),e.abrupt("return");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(i.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,a(h());case 3:e.sent,t.replace("/");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:be.a.nav_bar},r.a.createElement("div",{className:be.a.nav_container},r.a.createElement("button",{className:be.a.logo,onClick:function(e){e.preventDefault(),t.push("/choose")}},r.a.createElement("svg",{className:be.a.logo_svg,width:"25",height:"25",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 122.88 101.37"},r.a.createElement("g",null,r.a.createElement("path",{d:"M12.64,77.27l0.31-54.92h-6.2v69.88c8.52-2.2,17.07-3.6,25.68-3.66c7.95-0.05,15.9,1.06,23.87,3.76 c-4.95-4.01-10.47-6.96-16.36-8.88c-7.42-2.42-15.44-3.22-23.66-2.52c-1.86,0.15-3.48-1.23-3.64-3.08 C12.62,77.65,12.62,77.46,12.64,77.27L12.64,77.27z M103.62,19.48c-0.02-0.16-0.04-0.33-0.04-0.51c0-0.17,0.01-0.34,0.04-0.51V7.34 c-7.8-0.74-15.84,0.12-22.86,2.78c-6.56,2.49-12.22,6.58-15.9,12.44V85.9c5.72-3.82,11.57-6.96,17.58-9.1 c6.85-2.44,13.89-3.6,21.18-3.02V19.48L103.62,19.48z M110.37,15.6h9.14c1.86,0,3.37,1.51,3.37,3.37v77.66 c0,1.86-1.51,3.37-3.37,3.37c-0.38,0-0.75-0.06-1.09-0.18c-9.4-2.69-18.74-4.48-27.99-4.54c-9.02-0.06-18.03,1.53-27.08,5.52 c-0.56,0.37-1.23,0.57-1.92,0.56c-0.68,0.01-1.35-0.19-1.92-0.56c-9.04-4-18.06-5.58-27.08-5.52c-9.25,0.06-18.58,1.85-27.99,4.54 c-0.34,0.12-0.71,0.18-1.09,0.18C1.51,100.01,0,98.5,0,96.64V18.97c0-1.86,1.51-3.37,3.37-3.37h9.61l0.06-11.26 c0.01-1.62,1.15-2.96,2.68-3.28l0,0c8.87-1.85,19.65-1.39,29.1,2.23c6.53,2.5,12.46,6.49,16.79,12.25 c4.37-5.37,10.21-9.23,16.78-11.72c8.98-3.41,19.34-4.23,29.09-2.8c1.68,0.24,2.88,1.69,2.88,3.33h0V15.6L110.37,15.6z M68.13,91.82c7.45-2.34,14.89-3.3,22.33-3.26c8.61,0.05,17.16,1.46,25.68,3.66V22.35h-5.77v55.22c0,1.86-1.51,3.37-3.37,3.37 c-0.27,0-0.53-0.03-0.78-0.09c-7.38-1.16-14.53-0.2-21.51,2.29C79.09,85.15,73.57,88.15,68.13,91.82L68.13,91.82z M58.12,85.25 V22.46c-3.53-6.23-9.24-10.4-15.69-12.87c-7.31-2.8-15.52-3.43-22.68-2.41l-0.38,66.81c7.81-0.28,15.45,0.71,22.64,3.06 C47.73,78.91,53.15,81.64,58.12,85.25L58.12,85.25z"}))),r.a.createElement("span",{className:be.a.logo_label},"Book of Ancient Secrets")),n?r.a.createElement("button",{className:be.a.log_button,type:"button",onClick:u},"Logout Demo User"):r.a.createElement("button",{className:be.a.log_button,type:"button",onClick:c},"Log in as Demo User"))))}));n(48);var Oe=function(e){var t=Object(f.c)((function(e){return e.session.userId}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(he,null),r.a.createElement(_e,null),t?r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/users"},r.a.createElement(x,null)),r.a.createElement(p.a,{path:"/choose"},r.a.createElement(w,null)),r.a.createElement(p.a,{path:"/create-adventure"},r.a.createElement(q,null)),r.a.createElement(p.a,{path:"/adventure-form"},r.a.createElement(ee,null)),r.a.createElement(p.a,{path:"/adventure-view"},r.a.createElement(re,null)),r.a.createElement(p.a,{path:"/adventure-edit"},r.a.createElement(ce,null)),r.a.createElement(p.a,{path:"/adventure-play"},r.a.createElement(se,null)),r.a.createElement(p.a,{path:"/page-form"},r.a.createElement(le,null)),r.a.createElement(p.a,{path:"/page-view"},r.a.createElement(ie,null)),r.a.createElement(p.a,{path:"/page-edit"},r.a.createElement(oe,null)),r.a.createElement(p.a,{path:"/"},r.a.createElement(g,null))):r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/"},r.a.createElement(g,null))))};var ge,je=function(){Object(a.useEffect)((function(){(function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/session/csrf");case 2:if(!e.sent.ok){e.next=5;break}return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var e=document.createElement("script");return e.async=!0,e.src="https://kit.fontawesome.com/f2d99464c5.js",e.crossOrigin="anonymous",document.head.appendChild(e),r.a.createElement(o.a,null,r.a.createElement(Oe,null))},ke=n(19),xe=n(35);var ye=Object(ke.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"signup/CREATE_USER":return t.user;case"session/LOGOUT_USER":return{};case"users/SET_USER":return Object(S.a)({},t.user.id,t.user);default:return e}},adventures:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"adventure/CREATE_ADVENTURE":return Object(I.a)(Object(I.a)({},e),{},Object(S.a)({},t.adventure.id,t.adventure));case A:return t.adventures;case"adventure/DELETE_ADVENTURE":return delete n[t.adventureId],n;case"adventure/EDIT_ADVENTURE":return n[t.adventure.id]=t.adventure,n;default:return e}},pages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"page/CREATE_PAGE":return Object(I.a)(Object(I.a)({},e),{},Object(S.a)({},t.page.id,t.page));case"page/SET_PAGE":return t.pages;case"page/DELETE_PAGE":return delete n[t.pageId],n;case"page/EDIT_PAGE":return n[t.page.id]=t.page,n;default:return e}},links:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"link/CREATE_LINK":return Object(I.a)(Object(I.a)({},e),{},Object(S.a)({},t.link.id,t.link));case"link/SET_LINK":return t.links;case"link/DELETE_LINK":return delete n[t.linkId],n;case"link/EDIT_LINK":return n[t.link.id]=t.link,n;default:return e}}}),Ne=Object(ke.c)({session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case v:return n.userId=t.user.userId,n.username=t.user.username,n;case"session/LOGOUT_USER":return{};case"session/SET_SELECTED_ADVENTURE_ID":return n.selectedAdventureId=t.adventureId,n;case"session/SET_SELECTED_PAGE_ID":return n.selectedPageId=t.pageId,n;default:return e}},entities:ye});ge=Object(ke.a)(xe.a);var we,Te=Object(ke.d)(Ne,we,ge);u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f.a,{store:Te},r.a.createElement(je,null))),document.getElementById("root"))},6:function(e,t,n){e.exports={tile_title:"content_tile_tile_title__u_6Hb",tile_container:"content_tile_tile_container__21SwH",tile_button:"content_tile_tile_button__22axj",tile_link:"content_tile_tile_link__2SNcC",tile_nav_link:"content_tile_tile_nav_link__3pH44",tile_nav:"content_tile_tile_nav__1YWQk"}}},[[36,1,2]]]);
//# sourceMappingURL=main.478786e5.chunk.js.map