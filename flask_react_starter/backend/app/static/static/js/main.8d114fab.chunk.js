(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e,t,n){e.exports={choose_path_container:"create_or_play_choose_path_container__1Ojfz",choose_image:"create_or_play_choose_image__3O5AB",outermost_choose_container:"create_or_play_outermost_choose_container__1qVB3"}},17:function(e,t,n){e.exports={outermost_form_container:"adventure_form_outermost_form_container__tpxbw",form_title_text:"adventure_form_form_title_text__3s3bb",form_button:"adventure_form_form_button__yTWSA",form_description_textarea:"adventure_form_form_description_textarea__3eWuJ"}},29:function(e,t,n){e.exports=n(41)},34:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return B}));var a=n(0),r=n.n(a),c=n(18),u=n.n(c),s=(n(34),n(1)),o=n.n(s),l=n(4),i=n(6),m=n(3),p=n(10),f=n(11),v=n.n(f),E="session/SET_USER",d=function(e,t){var n=v.a.get("XSRF-TOKEN");return function(){var a=Object(l.a)(o.a.mark((function a(r){var c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/session/login",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFTOKEN":n},body:JSON.stringify({email_or_username:e,password:t,csrf_token:n})});case 2:return c=a.sent,a.next=5,c.json();case 5:return c.data=a.sent,console.log(c.data),c.ok&&r((u=c.data.user,{type:E,user:u})),a.abrupt("return",c);case 9:case"end":return a.stop()}var u}),a)})));return function(e){return a.apply(this,arguments)}}()};window.login=d;var h=function(){var e=v.a.get("XSRF-TOKEN");return function(){var t=Object(l.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/session/logout",{method:"DELETE",headers:{"X-CSRFTOKEN":e}});case 2:return a=t.sent,console.log(a.data),t.next=6,a.json();case 6:return a.data=t.sent,a.ok&&n({type:"session/LOGOUT_USER"}),t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_={userId:null};var b=Object(m.f)((function(e){var t=e.history,n=Object(p.b)(),a=function(){var e=Object(l.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,n(d("Owen","password"));case 3:if(!e.sent.ok){e.next=7;break}return t.replace("/"),e.abrupt("return");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(l.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,n(h());case 3:if(!e.sent.ok){e.next=7;break}return t.replace("/"),e.abrupt("return");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"My Home Page"),r.a.createElement("button",{type:"button",onClick:a},"Log in as Demo User"),r.a.createElement("button",{type:"button",onClick:c},"Logout Demo User"))})),g=n(14);var O=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,"Username:")," ",e.user.username,r.a.createElement("br",null),r.a.createElement("strong",null,"Email:")," ",e.user.email,r.a.createElement("br",null),r.a.createElement("hr",null))};var j=function(e){var t=Object(a.useState)([]),n=Object(g.a)(t,2),c=n[0],u=n[1];Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,u(n.users);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=c.map((function(e){return r.a.createElement(O,{key:e.id,user:e})}));return console.log("____Rendering User List____"),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"User List: "),s)},x=n(15),y=n.n(x);var k=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:y.a.outermost_choose_container},r.a.createElement("div",{className:y.a.choose_path_container},r.a.createElement("img",{alt:"",className:y.a.choose_image,src:"https://i.pinimg.com/originals/18/fc/90/18fc90e504fe07c87f25af84c44e144d.jpg"}),r.a.createElement(i.b,{className:"Navlink",to:"/create-adventure",activeclass:"active"},"Expand Your Adventures"),r.a.createElement(i.b,{className:"Navlink",to:"/create-character",activeclass:"active"},"Create Your Characters")),r.a.createElement("div",{className:y.a.choose_path_container},r.a.createElement("img",{alt:"",className:y.a.choose_image,src:"https://immarpalomera.files.wordpress.com/2010/12/dungeon-delve1.jpg"}),r.a.createElement(i.b,{className:"Navlink",to:"/characters",activeclass:"active"},"Select Your Character"),r.a.createElement(i.b,{className:"Navlink",to:"/adventures",activeclass:"active"},"Start an Adventure"))))};var w=function(e){e.tempkey;var t=e.title;return e.contentId,e.type,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h1",null,t),r.a.createElement("button",null,"Edit"),r.a.createElement("button",null,"Delete")))};var N=function(e){var t=e.type;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h1",null,"New"),r.a.createElement("div",null,r.a.createElement("button",null,"Create New ",t.charAt(0).toUpperCase()+t.slice(1)))))},S="adventure/SET_USER_ADVENTURES",T=function(e,t,n,a){var r=v.a.get("XSRF-TOKEN");return function(){var c=Object(l.a)(o.a.mark((function c(u){var s,l;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch("/api/adventures/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFTOKEN":r},body:JSON.stringify({title:e,description:t,published:n,ownerId:a,csrf_token:r})});case 2:return s=c.sent,c.next=5,s.json();case 5:return l=c.sent,s.data=l,s.ok&&u({type:"adventure/CREATE_ADVENTURE",adventure:s.data}),c.abrupt("return",s);case 9:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},C=function(e){return console.log("setting"),function(){var t=Object(l.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("api/users/".concat(e,"/adventures"));case 2:return a=t.sent,t.next=5,a.json();case 5:return a.data=t.sent,console.log(a.data),a.ok&&n((r=a.data,{type:S,adventure:r})),t.abrupt("return",a);case 9:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()};var R=function(){var e=Object(p.c)((function(e){return e.session.userId})),t=Object(p.c)((function(e){return e.entities.adventures})),n=Object(p.b)();Object(a.useEffect)((function(){(function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(C(e));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[n,e]),console.log(t);var c=Object.values(t).map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(w,{title:e.title,contentId:e.id,type:"adventure"}))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Your Adventures"),r.a.createElement("ul",null,r.a.createElement(w,{title:"bob"}),c,r.a.createElement(N,{type:"adventure"})))},U=n(17),A=n.n(U);var F=function(e){var t=Object(a.useState)(""),n=Object(g.a)(t,2),c=n[0],u=n[1],s=Object(a.useState)(""),i=Object(g.a)(s,2),m=i[0],f=i[1],v=Object(a.useState)(!1),E=Object(g.a)(v,2),d=E[0],h=E[1],_=Object(p.c)((function(e){return e.session.userId}));console.log(_);var b=Object(p.b)(),O=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=0,"on"===d&&(n=1),e.next=5,b(T(c,m,n,_));case 5:if(!e.sent.ok){e.next=8;break}return e.abrupt("return");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:A.a.outermost_form_container},r.a.createElement("h1",null,"Create an Adventure"),r.a.createElement("hr",null),r.a.createElement("h3",null,"Adventure Title"),r.a.createElement("input",{onChange:function(e){return u(e.target.value)},className:A.a.form_title_text,type:"text",placeholder:"Enter a name"}),r.a.createElement("h3",null,"Description"),r.a.createElement("textarea",{onChange:function(e){return f(e.target.value)},className:A.a.form_description_textarea}),r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",onChange:function(e){return h(e.target.value)}}),r.a.createElement("span",null,"Publish")),r.a.createElement("button",{className:A.a.form_button,onClick:O},"Add Adventure")))};var D=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/",activeclass:"active"},"Home")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/users",activeclass:"active"},"Users")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/choose",activeclass:"active"},"Create or Play")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/create-adventure",activeclass:"active"},"Create Adventure")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/adventure-form",activeclass:"active"},"Adventure Form")))),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/users"},r.a.createElement(j,null)),r.a.createElement(m.a,{path:"/choose"},r.a.createElement(k,null)),r.a.createElement(m.a,{path:"/create-adventure"},r.a.createElement(R,null)),r.a.createElement(m.a,{path:"/adventure-form"},r.a.createElement(F,null)),r.a.createElement(m.a,{path:"/"},r.a.createElement(b,null))))};var I,L=function(){return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/session/csrf");case 2:if(!e.sent.ok){e.next=5;break}return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(i.a,null,r.a.createElement(D,null))},K=n(12),X=n(27),J=n(28);var P=Object(K.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"signup/CREATE_USER":return t.user;case"session/LOGOUT_USER":return{};case"users/SET_USER":return Object(J.a)({},t.user.id,t.user);default:return e}},adventures:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"adventure/CREATE_ADVENTURE":return n[t.adventure.id]=t.adventure;case S:return n.adventures=t.adventure;default:return e}}}),V=Object(K.c)({session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case E:return n.userId=t.user.userId,n;case"session/LOGOUT_USER":return{};default:return e}},entities:P});I=Object(K.a)(X.a);var Y,B=Object(K.d)(V,Y,I);u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p.a,{store:B},r.a.createElement(L,null))),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.8d114fab.chunk.js.map